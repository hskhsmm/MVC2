<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <!-- 부트스트랩 CSS 연결 (Thymeleaf 경로 사용) -->
    <link th:href="@{/css/bootstrap.min.css}" href="../css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* 전체 컨테이너 최대 너비 설정 */
        .container {
            max-width: 560px;
        }
        /* 에러가 발생한 입력창 스타일 */
        .field-error {
            border-color: #dc3545; /* 테두리 빨간색 */
            color: #dc3545; /* 글자 빨간색 */
        }
    </style>
</head>
<body>
<div class="container">
    <!-- 페이지 상단 제목 부분 -->
    <div class="py-5 text-center">
        <h2>회원 가입</h2>
    </div>

    <!-- 소제목 -->
    <h4 class="mb-3">회원 정보 입력</h4>

    <!-- 회원 가입 Form 시작 -->
    <form th:action="@{/members/add}" th:object="${member}" method="post">

        <!-- 전체(Global) 오류 메시지가 있을 경우 출력 -->
        <div th:if="${#fields.hasGlobalErrors()}">
            <p class="field-error" th:each="err : ${#fields.globalErrors()}" th:text="${err}">전체 오류 메시지</p>
        </div>

        <!-- 로그인 ID 입력창 -->
        <div>
            <label for="loginId">로그인 ID</label>
            <input type="text" id="loginId" th:field="*{loginId}" class="form-control" th:errorclass="field-error">
            <!-- 로그인 ID에 에러 발생 시 에러 메시지 출력 -->
            <div class="field-error" th:errors="*{loginId}"></div>
        </div>

        <!-- 비밀번호 입력창 -->
        <div>
            <label for="password">비밀번호</label>
            <input type="password" id="password" th:field="*{password}" class="form-control" th:errorclass="field-error">
            <!-- 비밀번호에 에러 발생 시 에러 메시지 출력 -->
            <div class="field-error" th:errors="*{password}"></div>
        </div>

        <!-- 이름 입력창 -->
        <div>
            <label for="name">이름</label>
            <input type="text" id="name" th:field="*{name}" class="form-control" th:errorclass="field-error">
            <!-- 이름에 에러 발생 시 에러 메시지 출력 -->
            <div class="field-error" th:errors="*{name}"></div>
        </div>

        <hr class="my-4">

        <!-- 버튼들을 가로로 배치하는 행(row) -->
        <div class="row">
            <!-- 회원 가입 버튼 (form 안에 있으므로 submit 기능) -->
            <div class="col">
                <button class="w-100 btn btn-primary btn-lg" type="submit">회원 가입</button>
            </div>
            <!-- 취소 버튼 (form 밖으로 빠지지 않고 a태그로 이동만 함) -->
            <div class="col">
                <a class="w-100 btn btn-secondary btn-lg" th:href="@{/}" role="button">취소</a>
            </div>
        </div>

    </form>
    <!-- 회원 가입 Form 끝 -->
</div> <!-- /container -->
</body>
</html>
